import{Aa as he,B as oe,G as j,I as ae,Ka as _e,La as fe,N as D,ca as le,ra as ce,sa as pe,xa as me,ya as de,za as I}from"./chunk-KT3R54X4.js";import{b as ue}from"./chunk-FJD7T3QK.js";import{$a as M,Ab as Z,Ba as c,Ca as L,Cb as K,Da as l,Db as X,Dc as re,Eb as Y,Fa as F,Fc as se,Ga as W,Gb as w,Ha as C,Hc as ve,L as S,La as r,Ma as s,Na as k,Qa as _,R as A,Ra as O,Sa as y,Ta as p,Ua as q,Va as b,Vb as ee,Wa as B,Xa as z,Y as u,Ya as T,Yb as te,Z as N,_a as x,ac as ie,bb as f,cb as U,da as v,db as E,ea as g,gb as H,ib as $,ja as Q,mb as G,na as P,nb as J,oc as ne,ra as a,sa as d,ya as V,za as R}from"./chunk-7HUVPVHK.js";var be=["*",[["p-header"]],[["p-footer"]]],Te=["*","p-header","p-footer"];function xe(e,o){e&1&&_(0)}function Me(e,o){if(e&1&&(r(0,"div",8),b(1,1),c(2,xe,1,0,"ng-container",6),s()),e&2){let t=p();a(2),l("ngTemplateOutlet",t.headerTemplate)}}function we(e,o){e&1&&_(0)}function Ie(e,o){if(e&1&&(r(0,"div",9),f(1),c(2,we,1,0,"ng-container",6),s()),e&2){let t=p();a(),E(" ",t.header," "),a(),l("ngTemplateOutlet",t.titleTemplate)}}function Se(e,o){e&1&&_(0)}function Pe(e,o){if(e&1&&(r(0,"div",10),f(1),c(2,Se,1,0,"ng-container",6),s()),e&2){let t=p();a(),E(" ",t.subheader," "),a(),l("ngTemplateOutlet",t.subtitleTemplate)}}function Fe(e,o){e&1&&_(0)}function ke(e,o){e&1&&_(0)}function Oe(e,o){if(e&1&&(r(0,"div",11),b(1,2),c(2,ke,1,0,"ng-container",6),s()),e&2){let t=p();a(2),l("ngTemplateOutlet",t.footerTemplate)}}var ge=(()=>{class e{el;header;subheader;set style(t){pe.equals(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=V(null);constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(n){return new(n||e)(d(Q))};static \u0275cmp=u({type:e,selectors:[["p-card"]],contentQueries:function(n,i,h){if(n&1&&(T(h,me,5),T(h,de,5),T(h,I,4)),n&2){let m;x(m=M())&&(i.headerFacet=m.first),x(m=M())&&(i.footerFacet=m.first),x(m=M())&&(i.templates=m)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:Te,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(n,i){n&1&&(q(be),r(0,"div",0),c(1,Me,3,1,"div",1),r(2,"div",2),c(3,Ie,3,2,"div",3)(4,Pe,3,2,"div",4),r(5,"div",5),b(6),c(7,Fe,1,0,"ng-container",6),s(),c(8,Oe,3,1,"div",7),s()()),n&2&&(W(i.styleClass),l("ngClass","p-card p-component")("ngStyle",i._style()),L("data-pc-name","card"),a(),l("ngIf",i.headerFacet||i.headerTemplate),a(2),l("ngIf",i.header||i.titleTemplate),a(),l("ngIf",i.subheader||i.subtitleTemplate),a(3),l("ngTemplateOutlet",i.contentTemplate),a(),l("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Z,K,Y,X],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return e})(),Ce=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=N({type:e});static \u0275inj=A({imports:[w,he]})}return e})();var je=e=>["/movie",e];function De(e,o){if(e&1&&k(0,"img",3),e&2){let t=p(2);z("src","https://image.tmdb.org/t/p/w500/",t.mov.poster_path,"",P),l("alt",t.mov.title)}}function Ae(e,o){if(e&1&&k(0,"img",7),e&2){let t=p(2);B("src",t.imgFalsePath,P)}}function Ne(e,o){if(e&1){let t=O();r(0,"p-button",8),y("click",function(){v(t);let i=p(2);return g(i.addMovieToFavorite(i.mov))}),s(),r(1,"p-button",9),y("click",function(){v(t);let i=p(2);return g(i.addMovieToWatchlist(i.mov))}),s()}if(e&2){let t=p(2);F("active",t.favoriteIsActive),a(),F("active",t.watchListIsActive)}}function Qe(e,o){if(e&1){let t=O();r(0,"p-button",10),y("click",function(){v(t);let i=p(2);return g(i.deleteMovieFromlist(i.mov))}),s()}}function Ve(e,o){if(e&1&&(r(0,"a",2),c(1,De,1,3,"img",3)(2,Ae,1,1),s(),r(3,"div",4),c(4,Ne,2,4)(5,Qe,1,0,"p-button",5),s(),r(6,"div",6),f(7),G(8,"rateFormat"),s()),e&2){let t=p();l("routerLink",$(7,je,t.mov.id)),a(),C(1,t.mov.poster_path?1:2),a(3),C(4,t.buttonSwich?-1:4),a(),C(5,t.buttonSwich?5:-1),a(2),U(J(8,5,t.mov.vote_average))}}var _t=(()=>{let o=class o extends ve{constructor(n,i,h,m){super(),this.router=n,this.movieService=i,this.store=h,this.firePlaylistService=m,this.buttonSwich=!1,this.favoriteIsActive=!1,this.watchListIsActive=!1,this.imgFalsePath="https://media.istockphoto.com/id/1396814518/vector/image-coming-soon-no-photo-no-thumbnail-image-available-vector-illustration.jpg?s=612x612&w=0&k=20&c=hnh2OZgQGhf0b46-J2z7aHbIWwq8HNlSDaNp2wn_iko="}ngOnInit(){this.store.select(re).pipe(S(this.destroy$)).subscribe(n=>{this.favoriteIsActive=n.includes(this.mov.id)}),this.store.select(se).pipe(S(this.destroy$)).subscribe(n=>{this.watchListIsActive=n.includes(this.mov.id)}),(this.router.snapshot.routeConfig?.path==="favorite"||this.router.snapshot.routeConfig?.path==="watchlist")&&(this.buttonSwich=!0)}addMovieToFavorite(n){!this.favoriteIsActive?this.store.dispatch(oe({movie:n})):this.store.dispatch(j({movie:n}))}addMovieToWatchlist(n){!this.watchListIsActive?this.store.dispatch(ae({movie:n})):this.store.dispatch(D({movie:n}))}deleteMovieFromlist(n){(this.router.snapshot.routeConfig?.path??"")==="favorite"?this.store.dispatch(j({movie:n})):this.store.dispatch(D({movie:n}))}};o.\u0275fac=function(i){return new(i||o)(d(ee),d(le),d(ne),d(ce))},o.\u0275cmp=u({type:o,selectors:[["app-primeng-movie-card"]],inputs:{mov:"mov"},standalone:!0,features:[R,H],decls:2,vars:0,consts:[["styleClass","card"],["pTemplate","header"],[3,"routerLink"],[3,"alt","src"],[1,"card__action"],["icon","pi pi-trash"],[1,"card__rate"],["alt","error",3,"src"],["icon","pi pi-heart",3,"click"],["icon","pi pi-bookmark","styleClass","w-full",1,"w-full",3,"click"],["icon","pi pi-trash",3,"click"]],template:function(i,h){i&1&&(r(0,"p-card",0),c(1,Ve,9,9,"ng-template",1),s())},dependencies:[w,Ce,ge,I,fe,_e,ie,te,ue],styles:["[_nghost-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .p-card-content:not(:last-child){margin-bottom:.1875rem}[_nghost-%COMP%]     .p-card-content, [_nghost-%COMP%]     .p-card-footer{padding:0 .3125rem}[_nghost-%COMP%]     .card{overflow:hidden;border-radius:0;box-shadow:3px 3px 10px #1515156c;position:relative;transition:.3s}[_nghost-%COMP%]     .card:hover{transform:scale(1.02)}[_nghost-%COMP%]     .card:hover :has(swiper-slide){transform:scale(1)}[_nghost-%COMP%]     .card a{width:100%;height:100%}[_nghost-%COMP%]     .card img{width:100%;aspect-ratio:273/410;object-fit:cover}[_nghost-%COMP%]     .card__action{position:absolute;bottom:0;width:100%;display:flex;gap:.3125rem;padding:.3125rem;z-index:12}[_nghost-%COMP%]     .card__action button{border-radius:50%;width:1.875rem;height:1.875rem}[_nghost-%COMP%]     .card__rate{position:absolute;top:.625rem;right:.625rem;background-color:#2b3137;color:#fff;border-radius:50%;width:32px;height:32px;display:flex;justify-content:center;align-items:center}"]});let e=o;return e})();export{_t as a};
