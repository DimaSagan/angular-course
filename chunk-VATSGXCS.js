import{a as we}from"./chunk-MUKURUAG.js";import{a as xe,b as Me}from"./chunk-4EXBTKEA.js";import{$ as F,Aa as h,Bb as he,Bc as Pe,Ca as p,Cc as Oe,Ea as se,Eb as fe,Fb as R,Ga as V,Ha as Q,Ia as N,Ja as q,Ka as c,L as k,La as a,Ma as l,Pb as ue,Q as j,Qa as E,Ra as v,Rb as ve,Sa as g,T as ne,Y as w,Ya as de,Za as le,_a as pe,a as J,ab as d,b as K,bb as x,cb as G,da as f,ea as u,eb as me,fb as M,g as X,h as ee,i as te,ib as C,ic as $,ja as oe,ka as H,lb as b,mb as P,na as z,oa as re,q as ie,qa as s,qc as ye,ra as _,rb as _e,rc as Ce,s as L,sc as be,v as Y,va as A,wa as ae,ya as ce,zb as ge}from"./chunk-LNWTT475.js";var Se=(()=>{let i=class i{transform(e){if(e){let t=e.match(/^\d{4}/);if(t)return t[0]}return""}};i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=F({name:"dateFormat",type:i,pure:!0,standalone:!0});let n=i;return n})();var Ie=(()=>{let i=class i{transform(e){return e>=8?"hight-rating":e>=5?"medium-rating":"low-rating"}};i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=F({name:"rateClass",type:i,pure:!0,standalone:!0});let n=i;return n})();function O(){return window}function Z(){return O().YT}function B(){return Z().Player}var T={height:270,width:367},ke=(()=>{let i=class i{constructor(e){this.zone=e,this.api=new te(1),this.createApi()}loadPlayerApi(e){let t=O().document;if(!i.ytApiLoaded){i.ytApiLoaded=!0;let r=t.createElement("script");r.type="text/javascript",r.src=`${e.protocol}://www.youtube.com/iframe_api`,t.body.appendChild(r)}}setupPlayer(e,t,r,m="",y){let I=()=>{B&&this.createPlayer(e,t,r,m,y)};this.api.subscribe(I)}play(e){e.playVideo()}pause(e){e.pauseVideo()}playVideo(e,t){let r=e.id.videoId?e.id.videoId:e.id;t.loadVideoById(r),this.play(t)}isPlaying(e){let t=e&&e.getPlayerState,r=t?e.getPlayerState():{};return t?r!==Z().PlayerState.ENDED&&r!==Z().PlayerState.PAUSED:!1}createPlayer(e,t,r,m="",y={}){let I={height:r.height||T.height,width:r.width||T.width},Te=B();return new Te(e,K(J({},I),{events:{onReady:W=>{this.zone.run(()=>t.ready&&t.ready.next(W.target))},onStateChange:W=>{this.zone.run(()=>t.change&&t.change.next(W))}},playerVars:y,videoId:m}))}toggleFullScreen(e,t){let{height:r,width:m}=T;t||(r=window.innerHeight,m=window.innerWidth),e.setSize(m,r)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){let e=()=>{O()&&(O().onYouTubeIframeAPIReadyCalled=!0,this.api.next(B()))};O().onYouTubeIframeAPIReady=e,O().onYouTubeIframeAPIReadyCalled&&this.api.next(B())}};i.ytApiLoaded=!1,i.\u0275fac=function(t){return new(t||i)(ne(ae))},i.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})(),Ve=(()=>{let i=class i{constructor(e,t,r){this.playerService=e,this.elementRef=t,this.renderer=r,this.videoId="",this.height=T.height,this.width=T.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new H,this.change=new H}ngAfterContentInit(){let e=this.playerService.generateUniqueId(),t={height:this.height,width:this.width},r=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(r,"id",e),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(e,{change:this.change,ready:this.ready},t,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}};i.\u0275fac=function(t){return new(t||i)(_(ke),_(oe),_(A))},i.\u0275cmp=w({type:i,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},standalone:!0,features:[me([ke]),M],decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(t,r){t&1&&l(0,"div",0)},encapsulation:2,changeDetection:0});let n=i;return n})();var U=(()=>{let i=class i{constructor(){this.popupVisibleSubdject$=new ee(!1)}show(){this.popupVisibleSubdject$.next(!0)}hide(){this.popupVisibleSubdject$.next(!1)}getPopupStatus(){return this.popupVisibleSubdject$.asObservable()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var Fe=["youtubePlayer"];function ze(n,i){if(n&1){let o=E();c(0,"div",2),v("click",function(){f(o);let t=g();return u(t.hide())}),c(1,"div",3)(2,"youtube-player",4),v("ready",function(t){f(o);let r=g();return u(r.savePlayer(t))})("change",function(t){f(o);let r=g();return u(r.onStateChange(t))}),a()(),c(3,"button",5),v("click",function(){f(o);let t=g();return u(t.hide())}),l(4,"i",6),a()()}if(n&2){let o=g();se("active",o.visibility$),s(2),p("videoId",o.url)}}var De=(()=>{let i=class i{constructor(e,t,r){this.videoPopupService=e,this.store=t,this.renderer=r,this.url="",this.destroy$=new X}ngOnInit(){this.videoPopupService.getPopupStatus().pipe(k(this.destroy$)).subscribe(e=>{this.visibility$=e}),this.store.select(be).pipe(k(this.destroy$)).subscribe(e=>{e&&(this.url=e)})}savePlayer(e){this.player=e;let t=e.getIframe();t&&(this.renderer.setStyle(t,"width","100%"),this.renderer.setStyle(t,"height","100%"))}onStateChange(e){}hide(){this.videoPopupService.hide(),this.player.stopVideo()}};i.\u0275fac=function(t){return new(t||i)(_(U),_($),_(A))},i.\u0275cmp=w({type:i,selectors:[["app-video-pupup"]],viewQuery:function(t,r){if(t&1&&de(Fe,5),t&2){let m;le(m=pe())&&(r.youtubePlayer=m.first)}},standalone:!0,features:[M],decls:2,vars:1,consts:[[1,"wrapper"],[1,"video",3,"active"],[1,"video",3,"click"],[1,"video__content"],["suggestedQuality","highres",3,"ready","change","videoId"],[1,"video__close",3,"click"],[1,"pi","pi-times"]],template:function(t,r){t&1&&(c(0,"div",0),h(1,ze,5,3,"div",1),a()),t&2&&(s(),V(1,r.url!=""?1:-1))},dependencies:[R,Ve],styles:[".wrapper[_ngcontent-%COMP%]{pointer-events:none;position:fixed;top:0;left:0;width:100%;height:100%;perspective:1800px;perspective-origin:center}.video[_ngcontent-%COMP%]{padding-top:50px;opacity:0;pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#121212de;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;transition:.5s ease-in-out}.video.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.video__content[_ngcontent-%COMP%]{padding:15px;flex-basis:56.25rem;max-width:56.25rem;height:100%;max-height:25rem}@media (max-width: 47.99875em){.video__content[_ngcontent-%COMP%]{height:30%}}.video__close[_ngcontent-%COMP%]{padding:.625rem;position:absolute;top:5.625rem;right:2.5rem;color:#fff;background-color:#8686862b}.video__close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5625rem}.video__close[_ngcontent-%COMP%]:hover{background-color:#86868642}@media (max-width: 62.5em){.video__close[_ngcontent-%COMP%]{display:none}}youtube-player[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%}"]});let n=i;return n})();var S=(n,i)=>({disable:n,active:i});function Ae(n,i){if(n&1){let o=E();c(0,"div",20)(1,"button",21),v("click",function(){f(o);let t=g(2);return u(t.showPopup())}),d(2,"Trailer "),l(3,"i",22),a(),c(4,"button"),d(5,"Online"),l(6,"i",22),a(),c(7,"button"),d(8,"Add to"),l(9,"i",23),a(),c(10,"button"),d(11,"Add to"),l(12,"i",24),a()()}if(n&2){let o=g(2);p("ngClass",C(1,S,o.deactivate,o.load))}}function Re(n,i){if(n&1){let o=E();c(0,"div",25)(1,"button",21),v("click",function(){f(o);let t=g(2);return u(t.showPopup())}),d(2,"Trailer "),l(3,"i",22),a(),c(4,"button"),d(5,"Online"),l(6,"i",22),a(),c(7,"button"),d(8,"Add to"),l(9,"i",23),a(),c(10,"button"),d(11,"Add to"),l(12,"i",24),a()()}if(n&2){let o=g(2);p("ngClass",C(1,S,o.deactivate,o.load))}}function $e(n,i){n&1&&(c(0,"span"),d(1,","),a())}function Be(n,i){if(n&1&&(d(0),h(1,$e,2,0,"span",26)),n&2){let o=i.$implicit,e=i.$index,t=g();G(" ",o.name,""),s(),p("ngIf",e!==t.genres.length-1)}}function Ue(n,i){if(n&1&&(c(0,"div",31),l(1,"img",32),a()),n&2){let o=g().$implicit,e=g(3);s(),p("src",e.imgPath+o.profile_path,z)("alt",o.name)}}function We(n,i){n&1&&l(0,"i",33)}function Le(n,i){if(n&1&&(c(0,"div",30),h(1,Ue,2,2,"div",31)(2,We,1,0),c(3,"h2"),d(4),a()()),n&2){let o=i.$implicit;s(),V(1,o.profile_path?1:2),s(3),x(o.name)}}function Ye(n,i){if(n&1&&(c(0,"div",27)(1,"h2",28),d(2,"Top Cast"),a(),c(3,"div",29),N(4,Le,5,2,"div",30,Q),a()()),n&2){let o=i.ngIf;s(4),q(o)}}function He(n,i){if(n&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"img",4),a(),c(5,"div",5)(6,"h2",6),d(7),a(),c(8,"h3",7),d(9),b(10,"dateFormat"),a(),c(11,"div",8)(12,"output",9),b(13,"rateClass"),d(14),b(15,"rateFormat"),a(),c(16,"time",10),d(17),b(18,"timeFormat"),a()(),h(19,Ae,13,4,"div",11),a()(),h(20,Re,13,4,"div",12),c(21,"div",13)(22,"h2",14),d(23,"Overview"),a(),c(24,"p",15),d(25),a(),c(26,"h3",16),d(27,"Genres"),a(),c(28,"p",17),N(29,Be,2,2,"span",null,Q),a(),h(31,Ye,6,0,"div",18),b(32,"async"),a()(),c(33,"div",19),l(34,"img",4),a(),l(35,"app-video-pupup"),a()),n&2){let o=i,e=g();s(3),p("ngClass",C(25,S,e.deactivate,e.load)),s(),p("src",e.imgPath+o.poster_path,z),s(),p("ngClass",C(28,S,e.deactivate,e.load)),s(2),x(o.title),s(2),x(P(10,15,o.release_date)),s(3),p("ngClass",P(13,17,o.vote_average)),s(2),x(P(15,19,o.vote_average)),s(3),G("Time: ",P(18,21,o.runtime),""),s(2),p("ngIf",!e.smallScreen),s(),p("ngIf",e.smallScreen),s(),p("ngClass",C(31,S,e.deactivate,e.load)),s(4),x(o.overview),s(4),q(o.genres),s(2),p("ngIf",P(32,23,e.cast$)),s(2),p("ngClass",C(34,S,e.deactivate,e.load)),s(),p("src",e.bgPath+o.backdrop_path,z)}}var bt=(()=>{let i=class i extends Oe{constructor(e,t,r,m,y,I){super(),this.route=e,this.router=t,this.store=r,this.videoPopupService=m,this.cd=y,this.loader=I,this.load=!1,this.deactivate=!1,this.smallScreen=!1,this.imgPath="https://image.tmdb.org/t/p/w500",this.bgPath="https://image.tmdb.org/t/p/original"}ngOnInit(){this.store.select(Pe).pipe(k(this.destroy$)).subscribe(e=>{e&&(this.deviceInfo=e)}),this.checkViewportWidth(),this.movie$=this.store.select(ye),this.cast$=this.store.select(Ce).pipe(L(e=>e?e.slice(0,5):[])),this.route.data.subscribe(e=>{this.load=!1,Y(600).subscribe(()=>{this.load=e.data,this.cd.detectChanges()})})}canDeactivate(){return this.loader.hideLoader(),this.videoPopupService.hide(),this.deviceInfo.browser==="Safari"||this.deviceInfo.deviceType==="mobile"||this.deviceInfo.deviceType==="tablet"?ie(!0):(this.deactivate=!0,this.cd.detectChanges(),Y(1400).pipe(L(()=>!0)))}showPopup(){this.videoPopupService.show()}ngOnDestroy(){super.ngOnDestroy(),this.videoPopupService.hide()}onResize(e){this.checkViewportWidth()}checkViewportWidth(){this.smallScreen=window.innerWidth<767.98}};i.\u0275fac=function(t){return new(t||i)(_(ue),_(ve),_($),_(U),_(_e),_(we))},i.\u0275cmp=w({type:i,selectors:[["app-movie-details-page"]],hostBindings:function(t,r){t&1&&v("resize",function(y){return r.onResize(y)},!1,re)},standalone:!0,features:[ce,M],decls:2,vars:3,consts:[[1,"details-page-wrapper"],[1,"details"],[1,"details__header","header"],[1,"header__img",3,"ngClass"],["alt","poster",3,"src"],[1,"header__info","info",3,"ngClass"],[1,"info__title"],[1,"info__subtitle"],[1,"info__wrapper"],[1,"info__rate",3,"ngClass"],[1,"info__runtime"],["class","info__action action",3,"ngClass",4,"ngIf"],["class","action",3,"ngClass",4,"ngIf"],[1,"details__body","body",3,"ngClass"],[1,"body__overview-title"],[1,"body__overview"],[1,"body__genres-title"],[1,"body__genres"],["class","body__cast",4,"ngIf"],[1,"details-bg",3,"ngClass"],[1,"info__action","action",3,"ngClass"],[3,"click"],[1,"pi","pi-play-circle"],[1,"pi","pi-heart"],[1,"pi","pi-bookmark"],[1,"action",3,"ngClass"],[4,"ngIf"],[1,"body__cast"],[1,"body__cast-title"],[1,"body__cast-wrapper"],[1,"actor-card"],[1,"actor-card__img-wrapper"],[3,"src","alt"],[1,"pi","pi-box"]],template:function(t,r){if(t&1&&(h(0,He,36,37,"div",0),b(1,"async")),t&2){let m;V(0,(m=P(1,1,r.movie$))?0:-1,m)}},dependencies:[Me,R,ge,he,fe,Se,Ie,De,xe],styles:['.details-page-wrapper[_ngcontent-%COMP%]{color:#fff}.details[_ngcontent-%COMP%]{padding-top:4.5%}.details__header[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25em}.header[_ngcontent-%COMP%]{display:flex}@media (min-width: 63.995em){.header__img[_ngcontent-%COMP%]{position:relative;left:-100%;transform:scale(1.1);transition:left 1.2s 0s,transform .5s 1.1s}.header__img.active[_ngcontent-%COMP%]{transform:scale(1);left:0}.header__img.disable[_ngcontent-%COMP%]{left:-100%;transform:scale(1.1);transition:left 1.2s .5s,transform .5s}}.header__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:500/750;object-fit:cover}@media (max-width: 47.99875em){.header__img[_ngcontent-%COMP%]{display:none}}.info[_ngcontent-%COMP%]{font-size:clamp(2.813rem,2.431rem + 1.91vw,4.375rem);padding:2.5% 0 0 2.5%;opacity:1}@media (min-width: 63.995em){.info[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s 1s}.info.active[_ngcontent-%COMP%]{opacity:1}.info.disable[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s}}@media (max-width: 47.99875em){.info[_ngcontent-%COMP%]{margin-bottom:.625em}}.info__title[_ngcontent-%COMP%]{font-weight:600}.info__subtitle[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;padding-left:.375rem}.info__subtitle[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.5em}@media (max-width: 47.99875em){.info__subtitle[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}}.info__wrapper[_ngcontent-%COMP%]{font-size:0rem;padding-left:.375rem}.info__wrapper[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25rem}.info__rate[_ngcontent-%COMP%], .info__runtime[_ngcontent-%COMP%]{font-size:1.5625rem;display:inline-block;padding:.3125rem;border-radius:.3125rem}.info__rate[_ngcontent-%COMP%]{font-weight:500;margin-right:.3125rem}.info__rate.hight-rating[_ngcontent-%COMP%]{background-color:#239102}.info__rate.medium-rating[_ngcontent-%COMP%]{background-color:#c5a400}.info__rate.low-rating[_ngcontent-%COMP%]{background-color:#c50000}@media (max-width: 31.25em){.info__rate[_ngcontent-%COMP%]{margin-bottom:.625rem}}.info__runtime[_ngcontent-%COMP%]{background-color:#00000075}@media (max-width: 47.99875em){.info__runtime[_ngcontent-%COMP%]{font-size:1.25rem}}.action[_ngcontent-%COMP%]{padding:.3125rem;display:flex;flex-wrap:wrap;gap:.9375rem;opacity:1}@media (min-width: 63.995em){.action[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s 1s}.action.active[_ngcontent-%COMP%]{opacity:1}.action.disable[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s}}.action[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25rem}@media (max-width: 47.99875em){.action[_ngcontent-%COMP%]{padding:0}}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8.3125rem;padding:.625rem 1.25rem;border-radius:1.25rem;display:flex;align-items:center;gap:.3125rem;flex-shrink:0;text-transform:capitalize;font-size:1.25rem;font-weight:600;background-color:#d7d5d5d1;color:#000;transition:.3s}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:600}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#fffe}.body[_ngcontent-%COMP%]{background-color:#00000050;padding:.9375rem .3125rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);opacity:1}@media (min-width: 63.995em){.body[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s 1s}.body.active[_ngcontent-%COMP%]{opacity:1}.body.disable[_ngcontent-%COMP%]{opacity:0;transition:opacity 1s}}.body__overview-title[_ngcontent-%COMP%]{font-size:1.5625rem;font-weight:500}.body__overview-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.body__overview[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.2}.body__overview[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25em}.body__genres-title[_ngcontent-%COMP%]{margin-bottom:.3125em;font-size:1.25rem;font-weight:500}.body__genres[_ngcontent-%COMP%]{font-size:1.0625rem}.body__genres[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.5em}.body__overview-title[_ngcontent-%COMP%], .body__cast-title[_ngcontent-%COMP%], .body__genres-title[_ngcontent-%COMP%]{display:flex;text-wrap:nowrap;align-items:center;gap:.3125rem}.body__overview-title[_ngcontent-%COMP%]:after, .body__cast-title[_ngcontent-%COMP%]:after, .body__genres-title[_ngcontent-%COMP%]:after{content:"";width:100%;height:1px;background-color:#ffffff92;display:block}.body__cast-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500}.body__cast-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.body__cast-wrapper[_ngcontent-%COMP%]{display:flex;gap:1.25rem;align-items:flex-start}@media (max-width: 36.5625em){.body__cast-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.625rem}}.actor-card[_ngcontent-%COMP%]{max-width:12.5rem;min-width:5.9375rem;flex:0 1 200px;cursor:pointer}.actor-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:grayscale(0%)}@media (max-width: 36.5625em){.actor-card[_ngcontent-%COMP%]{max-width:5.9375rem}}.actor-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;aspect-ratio:1/1;background-color:#171616;display:flex;justify-content:center;align-items:center;font-size:2.5rem;margin-bottom:.3125rem}.actor-card__img-wrapper[_ngcontent-%COMP%]{overflow:hidden;border-radius:50%}.actor-card__img-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.actor-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;aspect-ratio:1/1;object-fit:cover;filter:grayscale(50%);transition:.3s ease-in-out}.actor-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1rem,.939rem + .31vw,1.25rem);text-align:center}.details-bg[_ngcontent-%COMP%]{position:fixed;top:50px;left:0;width:100%;height:100vh;z-index:-1}.details-bg[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;background:#373737;background:radial-gradient(circle,#37373700,#111);position:absolute;opacity:1}.details-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@media (min-width: 63.995em){.details-bg[_ngcontent-%COMP%]{top:50px;left:100%;transform:scale(.9);transition:left 1.2s 0s,transform .5s 1.1s}.details-bg[_ngcontent-%COMP%]:before{opacity:0;transition:opacity .8s 1.1s}.details-bg.active[_ngcontent-%COMP%]{left:0;transform:scale(1)}.details-bg.active[_ngcontent-%COMP%]:before{opacity:1}.details-bg.disable[_ngcontent-%COMP%]{left:100%;transform:scale(.9);transition:left 1.2s .5s,transform .5s 0s}}'],changeDetection:0});let n=i;return n})();export{bt as MovieDetailsPageComponent};
