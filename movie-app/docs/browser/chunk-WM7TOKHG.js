import{a as ce,b as se}from"./chunk-VGI2ZXZI.js";import{$ as P,Ab as q,Ba as g,Da as p,Db as Q,Eb as O,Fa as w,Fc as le,Gb as Z,Ha as T,Ia as D,Ja as j,K as W,Ka as V,L as H,La as r,M as X,Ma as o,Na as l,Ob as ee,Q as K,Ra as F,Sa as f,Ta as u,Tb as te,Vb as ie,Y as C,bb as s,cb as b,da as z,db as $,ea as E,g as B,gb as y,h as R,mb as h,mc as ne,na as M,nb as v,oa as L,pa as N,q as I,ra as c,s as U,sa as m,sb as J,uc as oe,v as A,vc as re,wc as ae,yb as Y,za as G}from"./chunk-XM22MK7S.js";var pe=(()=>{let e=class e{transform(t){if(t){let n=t.match(/^\d{4}/);if(n)return n[0]}return""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=P({name:"dateFormat",type:e,pure:!0,standalone:!0});let i=e;return i})();var de=(()=>{let e=class e{transform(t){return t>=8?"hight-rating":t>=5?"medium-rating":"low-rating"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=P({name:"rateClass",type:e,pure:!0,standalone:!0});let i=e;return i})();var S=(()=>{let e=class e{constructor(){this.popupVisibleSubdject$=new R(!1)}show(){this.popupVisibleSubdject$.next(!0)}hide(){this.popupVisibleSubdject$.next(!1)}getPopupStatus(){return this.popupVisibleSubdject$.asObservable()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var _e=(()=>{let e=class e{constructor(t,n){this.videoPopupService=t,this.sanitizer=n,this.link=I(""),this.destroy$=new B}ngOnInit(){this.videoPopupService.getPopupStatus().pipe(W(t=>(this.visibility$=t,t?this.link:I(null))),X(t=>{if(t){let n=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${t}?si=iXKJtgXRKcVSlTtT`);this.url=n}}),H(this.destroy$)).subscribe()}hide(){this.url=this.sanitizer.bypassSecurityTrustResourceUrl(""),this.videoPopupService.hide()}};e.\u0275fac=function(n){return new(n||e)(m(S),m(ee))},e.\u0275cmp=C({type:e,selectors:[["app-video-pupup"]],inputs:{link:"link"},standalone:!0,features:[y],decls:6,vars:3,consts:[[1,"wrapper"],[1,"video",3,"click"],[1,"video__content"],["title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","referrerpolicy","strict-origin-when-cross-origin","allowfullscreen","",3,"src"],[1,"video__close",3,"click"],[1,"pi","pi-times"]],template:function(n,d){n&1&&(r(0,"div",0)(1,"div",1),f("click",function(){return d.hide()}),r(2,"div",2),l(3,"iframe",3),o(),r(4,"button",4),f("click",function(){return d.hide()}),l(5,"i",5),o()()()),n&2&&(c(),w("active",d.visibility$),c(2),p("src",d.url,L))},dependencies:[O],styles:[".wrapper[_ngcontent-%COMP%]{pointer-events:none;position:fixed;top:0;left:0;width:100%;height:100%;perspective:1800px;perspective-origin:center}.video[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#121212de;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;transition:.8s ease-in-out;transform-origin:0 0;transform:rotate3d(100,0,0,-120deg)}.video.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all;transform:rotateX(0)}.video__content[_ngcontent-%COMP%]{padding:15px;flex-basis:56.25rem;max-width:56.25rem}.video__content[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;aspect-ratio:16/9}.video__close[_ngcontent-%COMP%]{padding:.625rem;position:absolute;top:5.625rem;right:2.5rem;color:#fff;background-color:#8686862b}.video__close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5625rem}.video__close[_ngcontent-%COMP%]:hover{background-color:#86868642}"]});let i=e;return i})();function fe(i,e){if(i&1){let a=F();r(0,"div",22)(1,"button",23),f("click",function(){z(a);let n=u(2);return E(n.showPopup())}),s(2,"Trailer "),l(3,"i",24),o(),r(4,"button"),s(5,"Online"),l(6,"i",24),o(),r(7,"button"),s(8,"Add to"),l(9,"i",25),o(),r(10,"button"),s(11,"Add to"),l(12,"i",26),o()()}}function ue(i,e){if(i&1){let a=F();r(0,"div",27)(1,"button",23),f("click",function(){z(a);let n=u(2);return E(n.showPopup())}),s(2,"Trailer "),l(3,"i",24),o(),r(4,"button"),s(5,"Online"),l(6,"i",24),o(),r(7,"button"),s(8,"Add to"),l(9,"i",25),o(),r(10,"button"),s(11,"Add to"),l(12,"i",26),o()()}}function he(i,e){i&1&&(r(0,"span"),s(1,","),o())}function ve(i,e){if(i&1&&(s(0),g(1,he,2,0,"span",28)),i&2){let a=e.$implicit,t=e.$index,n=u();$(" ",a.name,""),c(),p("ngIf",t!==n.genres.length-1)}}function be(i,e){if(i&1&&(r(0,"div",33),l(1,"img",34),o()),i&2){let a=u().$implicit,t=u(3);c(),p("src",t.imgPath+a.profile_path,M)("alt",a.name)}}function Ce(i,e){i&1&&l(0,"i",35)}function Pe(i,e){if(i&1&&(r(0,"div",32),g(1,be,2,2,"div",33)(2,Ce,1,0),r(3,"h2"),s(4),o()()),i&2){let a=e.$implicit;c(),T(1,a.profile_path?1:2),c(3),b(a.name)}}function Me(i,e){if(i&1&&(r(0,"div",29)(1,"h2",30),s(2,"Top Cast"),o(),r(3,"div",31),j(4,Pe,5,2,"div",32,D),o()()),i&2){let a=e.ngIf;c(4),V(a)}}function we(i,e){if(i&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),l(4,"img",5),o(),r(5,"div",6)(6,"h2",7),s(7),o(),r(8,"h3",8),s(9),h(10,"dateFormat"),o(),r(11,"div",9)(12,"output",10),h(13,"rateClass"),s(14),h(15,"rateFormat"),o(),r(16,"time",11),s(17),h(18,"timeFormat"),o()(),g(19,fe,13,0,"div",12),o()(),g(20,ue,13,0,"div",13),r(21,"div",14)(22,"h2",15),s(23,"Overview"),o(),r(24,"p",16),s(25),o(),r(26,"h3",17),s(27,"Genres"),o(),r(28,"p",18),j(29,ve,2,2,"span",null,D),o(),g(31,Me,6,0,"div",19),h(32,"async"),o()(),r(33,"div",20),l(34,"img",5),o(),l(35,"app-video-pupup",21),o()),i&2){let a=e,t=u();w("active",t.load),c(4),p("src",t.imgPath+a.poster_path,M),c(3),b(a.title),c(2),b(v(10,14,a.release_date)),c(3),p("ngClass",v(13,16,a.vote_average)),c(2),b(v(15,18,a.vote_average)),c(3),$("Time: ",v(18,20,a.runtime),""),c(2),p("ngIf",!t.smallScreen),c(),p("ngIf",t.smallScreen),c(5),b(a.overview),c(4),V(a.genres),c(2),p("ngIf",v(32,22,t.cast$)),c(3),p("src",t.bgPath+a.backdrop_path,M),c(),p("link",t.trailer)}}var He=(()=>{let e=class e extends le{constructor(t,n,d,_,k,ge){super(),this.route=t,this.router=n,this.store=d,this.videoPopupService=_,this.cd=k,this.viewportScroller=ge,this.load=!1,this.smallScreen=!1,this.imgPath="https://image.tmdb.org/t/p/w500",this.bgPath="https://image.tmdb.org/t/p/original"}ngOnInit(){this.checkViewportWidth(),this.movie$=this.store.select(oe),this.cast$=this.store.select(re).pipe(U(t=>t?t.slice(0,5):[])),this.trailer=this.store.select(ae),this.route.data.subscribe(t=>{this.load=!1,A(600).subscribe(()=>{this.load=t.data,this.cd.detectChanges()})})}showPopup(){console.log("show"),this.videoPopupService.show()}ngOnDestroy(){super.ngOnDestroy(),this.videoPopupService.hide()}onResize(t){this.checkViewportWidth()}checkViewportWidth(){this.smallScreen=window.innerWidth<767.98}};e.\u0275fac=function(n){return new(n||e)(m(te),m(ie),m(ne),m(S),m(J),m(Z))},e.\u0275cmp=C({type:e,selectors:[["app-movie-details-page"]],hostBindings:function(n,d){n&1&&f("resize",function(k){return d.onResize(k)},!1,N)},standalone:!0,features:[G,y],decls:2,vars:3,consts:[[1,"details-page-wrapper",3,"active"],[1,"details-page-wrapper"],[1,"details"],[1,"details__header","header"],[1,"header__img"],["alt","poster",3,"src"],[1,"header__info","info"],[1,"info__title"],[1,"info__subtitle"],[1,"info__wrapper"],[1,"info__rate",3,"ngClass"],[1,"info__runtime"],["class","info__action action",4,"ngIf"],["class","action",4,"ngIf"],[1,"details__body","body"],[1,"body__overview-title"],[1,"body__overview"],[1,"body__genres-title"],[1,"body__genres"],["class","body__cast",4,"ngIf"],[1,"details-bg"],[3,"link"],[1,"info__action","action"],[3,"click"],[1,"pi","pi-play-circle"],[1,"pi","pi-heart"],[1,"pi","pi-bookmark"],[1,"action"],[4,"ngIf"],[1,"body__cast"],[1,"body__cast-title"],[1,"body__cast-wrapper"],[1,"actor-card"],[1,"actor-card__img-wrapper"],[3,"src","alt"],[1,"pi","pi-box"]],template:function(n,d){if(n&1&&(g(0,we,36,24,"div",0),h(1,"async")),n&2){let _;T(0,(_=v(1,1,d.movie$))?0:-1,_)}},dependencies:[se,O,Y,q,Q,pe,de,_e,ce],styles:['.details-page-wrapper[_ngcontent-%COMP%]{color:#fff}.details[_ngcontent-%COMP%]{padding-top:4.5%}.details__header[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25em}.header[_ngcontent-%COMP%]{display:flex}.header__img[_ngcontent-%COMP%]{position:relative;left:-100%;transform:scale(1.1);transition:left 1.2s 0s,transform .5s 1.1s}.details-page-wrapper.active[_ngcontent-%COMP%]   .header__img[_ngcontent-%COMP%]{transform:scale(1);left:0}.header__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;aspect-ratio:500/750;object-fit:cover}.info[_ngcontent-%COMP%]{font-size:clamp(2.813rem,2.431rem + 1.91vw,4.375rem);padding:2.5% 0 0 2.5%;opacity:0;transition:opacity 1s 1s}.active[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{opacity:1}@media (max-width: 47.99875em){.info[_ngcontent-%COMP%]{margin-bottom:.625em}}.info__title[_ngcontent-%COMP%]{font-weight:600}.info__subtitle[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;padding-left:.375rem}.info__subtitle[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.5em}@media (max-width: 47.99875em){.info__subtitle[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}}.info__wrapper[_ngcontent-%COMP%]{font-size:0rem;padding-left:.375rem}.info__wrapper[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25rem}.info__rate[_ngcontent-%COMP%], .info__runtime[_ngcontent-%COMP%]{font-size:1.5625rem;display:inline-block;padding:.3125rem;border-radius:.3125rem}.info__rate[_ngcontent-%COMP%]{font-weight:500;margin-right:.3125rem}.info__rate.hight-rating[_ngcontent-%COMP%]{background-color:#239102}.info__rate.medium-rating[_ngcontent-%COMP%]{background-color:#c5a400}.info__rate.low-rating[_ngcontent-%COMP%]{background-color:#c50000}@media (max-width: 31.25em){.info__rate[_ngcontent-%COMP%]{margin-bottom:.625rem}}.info__runtime[_ngcontent-%COMP%]{background-color:#00000075}@media (max-width: 47.99875em){.info__runtime[_ngcontent-%COMP%]{font-size:1.25rem}}.action[_ngcontent-%COMP%]{padding:.3125rem;display:flex;flex-wrap:wrap;gap:.9375rem;opacity:0;transition:opacity 1s 1s}.active[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{opacity:1}.action[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25rem}@media (max-width: 47.99875em){.action[_ngcontent-%COMP%]{padding:0}}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8.3125rem;padding:.625rem 1.25rem;border-radius:1.25rem;display:flex;align-items:center;gap:.3125rem;flex-shrink:0;text-transform:capitalize;font-size:1.25rem;font-weight:600;background-color:#d7d5d5d1;transition:.3s}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-weight:600}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#fffe}.body[_ngcontent-%COMP%]{background-color:#00000050;padding:.9375rem .3125rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);opacity:0;transition:opacity 1s 1s}.active[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{opacity:1}.body__overview-title[_ngcontent-%COMP%]{font-size:1.5625rem;font-weight:500}.body__overview-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.body__overview[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.2}.body__overview[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1.25em}.body__genres-title[_ngcontent-%COMP%]{margin-bottom:.3125em;font-size:1.25rem;font-weight:500}.body__genres[_ngcontent-%COMP%]{font-size:1.0625rem}.body__genres[_ngcontent-%COMP%]:not(:last-child){margin-bottom:2.5em}.body__overview-title[_ngcontent-%COMP%], .body__cast-title[_ngcontent-%COMP%], .body__genres-title[_ngcontent-%COMP%]{display:flex;text-wrap:nowrap;align-items:center;gap:.3125rem}.body__overview-title[_ngcontent-%COMP%]:after, .body__cast-title[_ngcontent-%COMP%]:after, .body__genres-title[_ngcontent-%COMP%]:after{content:"";width:100%;height:1px;background-color:#ffffff92;display:block}.body__cast-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500}.body__cast-title[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.body__cast-wrapper[_ngcontent-%COMP%]{display:flex;gap:1.25rem;align-items:flex-start}@media (max-width: 36.5625em){.body__cast-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.625rem}}.actor-card[_ngcontent-%COMP%]{max-width:12.5rem;min-width:5.9375rem;flex:0 1 200px;cursor:pointer}.actor-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05);filter:grayscale(0%)}@media (max-width: 36.5625em){.actor-card[_ngcontent-%COMP%]{max-width:5.9375rem}}.actor-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;aspect-ratio:1/1;background-color:#fff;display:flex;justify-content:center;align-items:center;font-size:2.5rem;margin-bottom:.3125rem}.actor-card__img-wrapper[_ngcontent-%COMP%]{overflow:hidden;border-radius:50%}.actor-card__img-wrapper[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.3125em}.actor-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;aspect-ratio:1/1;object-fit:cover;filter:grayscale(50%);transition:.3s ease-in-out}.actor-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1rem,.939rem + .31vw,1.25rem);text-align:center}.details-bg[_ngcontent-%COMP%]{position:fixed;top:50px;left:100%;transform:scale(.9);width:100%;height:100vh;transition:left 1.2s 0s,transform .5s 1.1s;z-index:-1}.details-page-wrapper.active[_ngcontent-%COMP%]   .details-bg[_ngcontent-%COMP%]{left:0;transform:scale(1)}.details-bg[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;background:#373737;background:radial-gradient(circle,#37373700,#111);position:absolute;opacity:0;transition:opacity .8s 1.1s}.details-page-wrapper.active[_ngcontent-%COMP%]   .details-bg[_ngcontent-%COMP%]:before{opacity:1}.details-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}'],changeDetection:0});let i=e;return i})();export{He as MovieDetailsPageComponent};
